Немного изменил порядок применения скидок, 
если применять пункты 5,6,7 так как указано в задании 
то пункты 6 и 7 не будут выполнены никогда.
